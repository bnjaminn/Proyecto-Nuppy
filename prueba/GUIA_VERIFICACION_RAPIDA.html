<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a de Verificaci√≥n R√°pida - C√°lculo de Factores</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #FF6B00;
            border-bottom: 3px solid #FF6B00;
            padding-bottom: 10px;
        }
        h2 {
            color: #333;
            margin-top: 30px;
        }
        .test-case {
            background: #f9f9f9;
            border-left: 4px solid #FF6B00;
            padding: 15px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #FF6B00;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .formula {
            background: #e8f4f8;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
        .expected {
            color: #28a745;
            font-weight: bold;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Gu√≠a de Verificaci√≥n R√°pida - C√°lculo de Factores</h1>
        
        <div class="info">
            <strong>üìã Instrucciones:</strong>
            <ol>
                <li>Ingresa los valores de prueba en el modal de factores</li>
                <li>Haz clic en el bot√≥n "Calcular"</li>
                <li>Verifica que los resultados coincidan con los esperados</li>
                <li>Confirma que ning√∫n valor exceda 1.0</li>
            </ol>
        </div>

        <h2>üìä Caso de Prueba 1: Verificaci√≥n R√°pida (Recomendado para empezar)</h2>
        <div class="test-case">
            <h3>Valores de Entrada:</h3>
            <table>
                <tr>
                    <th>Campo</th>
                    <th>Valor</th>
                </tr>
                <tr><td>Factor08</td><td>100.0</td></tr>
                <tr><td>Factor09</td><td>200.0</td></tr>
                <tr><td>Factor10</td><td>300.0</td></tr>
                <tr><td>Factor11</td><td>0.0</td></tr>
                <tr><td>Factor12</td><td>0.0</td></tr>
                <tr><td>Factor13</td><td>50.0</td></tr>
                <tr><td>RentasExentas</td><td>150.0</td></tr>
                <tr><td>Factor19A</td><td>100.0</td></tr>
                <tr><td>Resto de factores</td><td>0.0</td></tr>
            </table>

            <h3>C√°lculos Esperados:</h3>
            <div class="formula">
                Suma 8-10 = 100 + 200 + 300 = 600.0<br>
                Suma 8-19 = 100 + 200 + 300 + 0 + 0 + 50 + 0 + 0 + 0 + 0 + 0 + 0 = 650.0
            </div>

            <table>
                <tr>
                    <th>Factor</th>
                    <th>F√≥rmula</th>
                    <th>Resultado Esperado</th>
                </tr>
                <tr>
                    <td>Factor13</td>
                    <td>50.0 / 650.0</td>
                    <td class="expected">0.07692308</td>
                </tr>
                <tr>
                    <td>Factor18</td>
                    <td>150.0 / 600.0</td>
                    <td class="expected">0.25000000</td>
                </tr>
                <tr>
                    <td>Factor19</td>
                    <td>100.0 / 650.0</td>
                    <td class="expected">0.15384615</td>
                </tr>
            </table>
        </div>

        <h2>üìä Caso de Prueba 2: Valores que Exceden 1</h2>
        <div class="test-case">
            <h3>Valores de Entrada:</h3>
            <table>
                <tr>
                    <th>Campo</th>
                    <th>Valor</th>
                </tr>
                <tr><td>Factor08</td><td>100.0</td></tr>
                <tr><td>Factor09</td><td>100.0</td></tr>
                <tr><td>Factor10</td><td>100.0</td></tr>
                <tr><td>Factor11</td><td>100.0</td></tr>
                <tr><td>Factor12</td><td>100.0</td></tr>
                <tr><td>Factor20</td><td>2000.0</td></tr>
                <tr><td>RentasExentas</td><td>500.0</td></tr>
                <tr><td>Factor19A</td><td>3000.0</td></tr>
            </table>

            <h3>Resultados Esperados:</h3>
            <div class="warning">
                <strong>‚ö†Ô∏è Importante:</strong> Los valores que excedan 1.0 deben limitarse autom√°ticamente a 1.0
            </div>
            <table>
                <tr>
                    <th>Factor</th>
                    <th>C√°lculo</th>
                    <th>Resultado Esperado</th>
                </tr>
                <tr>
                    <td>Factor20</td>
                    <td>2000.0 / 500.0 = 4.0</td>
                    <td class="expected">1.00000000 (limitado)</td>
                </tr>
                <tr>
                    <td>Factor19</td>
                    <td>3000.0 / 500.0 = 6.0</td>
                    <td class="expected">1.00000000 (limitado)</td>
                </tr>
                <tr>
                    <td>Factor18</td>
                    <td>500.0 / 300.0 = 1.666...</td>
                    <td class="expected">1.00000000 (limitado)</td>
                </tr>
            </table>
        </div>

        <h2>üìä Caso de Prueba 3: Divisi√≥n por Cero</h2>
        <div class="test-case">
            <h3>Valores de Entrada:</h3>
            <p>Todos los factores en 0.0</p>

            <h3>Resultados Esperados:</h3>
            <div class="warning">
                <strong>‚ö†Ô∏è Importante:</strong> Cuando la suma es 0, todos los factores calculados deben ser 0.0 (evitar divisi√≥n por cero)
            </div>
            <table>
                <tr>
                    <th>Factor</th>
                    <th>Resultado Esperado</th>
                </tr>
                <tr><td>Factor13-37</td><td class="expected">0.00000000</td></tr>
                <tr><td>Factor18</td><td class="expected">0.00000000</td></tr>
                <tr><td>Factor19</td><td class="expected">0.00000000</td></tr>
            </table>
        </div>

        <h2>üìä Caso de Prueba 4: C√°lculo Completo</h2>
        <div class="test-case">
            <h3>Valores de Entrada:</h3>
            <table>
                <tr>
                    <th>Campo</th>
                    <th>Valor</th>
                </tr>
                <tr><td>Factor08</td><td>100.0</td></tr>
                <tr><td>Factor09</td><td>200.0</td></tr>
                <tr><td>Factor10</td><td>300.0</td></tr>
                <tr><td>Factor11</td><td>150.0</td></tr>
                <tr><td>Factor12</td><td>250.0</td></tr>
                <tr><td>Factor13</td><td>50.0</td></tr>
                <tr><td>Factor14</td><td>75.0</td></tr>
                <tr><td>Factor15</td><td>100.0</td></tr>
                <tr><td>Factor16</td><td>125.0</td></tr>
                <tr><td>Factor17</td><td>175.0</td></tr>
                <tr><td>Factor20</td><td>200.0</td></tr>
                <tr><td>Factor21</td><td>300.0</td></tr>
                <tr><td>RentasExentas</td><td>150.0</td></tr>
                <tr><td>Factor19A</td><td>200.0</td></tr>
            </table>

            <h3>Resultados Esperados (Principales):</h3>
            <table>
                <tr>
                    <th>Factor</th>
                    <th>Resultado Esperado</th>
                </tr>
                <tr><td>Factor13</td><td class="expected">0.03278689</td></tr>
                <tr><td>Factor14</td><td class="expected">0.04918033</td></tr>
                <tr><td>Factor15</td><td class="expected">0.06557377</td></tr>
                <tr><td>Factor16</td><td class="expected">0.08196721</td></tr>
                <tr><td>Factor17</td><td class="expected">0.11475410</td></tr>
                <tr><td>Factor18</td><td class="expected">0.25000000</td></tr>
                <tr><td>Factor19</td><td class="expected">0.13114754</td></tr>
                <tr><td>Factor20</td><td class="expected">0.13114754</td></tr>
                <tr><td>Factor21</td><td class="expected">0.19672131</td></tr>
            </table>
        </div>

        <h2>‚úÖ Checklist de Verificaci√≥n</h2>
        <div class="test-case">
            <ul>
                <li>‚òê Los valores calculados coinciden con los esperados</li>
                <li>‚òê Ning√∫n valor excede 1.0</li>
                <li>‚òê Los valores est√°n redondeados a 8 decimales</li>
                <li>‚òê No hay errores de divisi√≥n por cero</li>
                <li>‚òê Factor18 usa la suma de 8-10 (no 8-19)</li>
                <li>‚òê Factor19 usa Factor19A como numerador</li>
                <li>‚òê Los valores se actualizan correctamente en el formulario</li>
            </ul>
        </div>

        <h2>üìù Notas Importantes</h2>
        <div class="info">
            <ul>
                <li><strong>Factores 8-12:</strong> Son MONTOS que se ingresan manualmente</li>
                <li><strong>Factores 13-37:</strong> Son RESULTADOS CALCULADOS (proporciones)</li>
                <li><strong>Factor 18:</strong> Usa RentasExentas / Suma(8-10)</li>
                <li><strong>Factor 19:</strong> Usa Factor19A / Suma(8-19)</li>
                <li><strong>Redondeo:</strong> Todos los valores se redondean a 8 decimales</li>
                <li><strong>L√≠mite:</strong> Ning√∫n valor puede ser mayor que 1.0</li>
            </ul>
        </div>
    </div>
</body>
</html>

