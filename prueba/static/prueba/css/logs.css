/*
    LOGS.CSS - Estilos de la Página de Logs/Auditoría
    ===================================================
    Contiene todos los estilos CSS específicos para la página de logs (ver_logs.html).
    Incluye:
    - Estilos de la tabla de logs
    - Badges de acciones (crear, modificar, eliminar, carga)
    - Badges de tipo de elemento afectado
    - Scrollbar personalizado
    - Estilos para tema oscuro/claro
    - Hover effects en filas
*/

/* ============================================
   CONTENEDOR DE LA TABLA DE LOGS
   ============================================
   Contenedor con scroll para la tabla de logs.
   Permite desplazarse verticalmente cuando hay muchos registros.
*/
.log-table-container {
    max-height: 75vh;         /* Altura máxima: 75% de la altura de la ventana */
    overflow-y: auto;         /* Permite scroll vertical si el contenido es más alto */
    overflow-x: auto;         /* Permite scroll horizontal si el contenido es más ancho */
    background-color: #fff;
    border-radius: 8px;
    border: 2px solid var(--border);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);  /* Sombra suave */
    position: relative;
}

.log-table {
    width: 100%;
    border-collapse: separate; /* Cambiado a separate para que sticky funcione */
    border-spacing: 0;
}

.log-table th, .log-table td {
    border: 1px solid var(--border);
    padding: 0.75rem;
    text-align: left;
    font-size: 0.9rem;
    /* Permite que el texto se ajuste si es muy largo */
    white-space: normal; 
    /* Corta palabras largas (como IDs) si es necesario */
    word-break: break-all; 
}

.log-table thead {
    position: sticky;
    top: 0;
    z-index: 100;
}

.log-table th {
    /* Encabezado Naranja NUAM con gradiente */
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    color: var(--text-on-primary);
    position: sticky;
    top: 0;
    z-index: 100;
    font-weight: 600;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
    border-bottom: 2px solid var(--color-primary-dark);
}

/* Añade bandas de color (filas pares) para legibilidad */
.log-table tbody tr:nth-child(even) {
    background-color: var(--bg-secondary); 
}

/* Mejora visual: hover sobre las filas */
.log-table tbody tr:hover {
    background-color: var(--color-primary-light);
    transition: background-color 0.2s ease;
}

/* Estilo para primera fila después del header */
.log-table tbody tr:first-child td {
    border-top: none;
}

/* Scrollbar personalizado para la tabla de logs */
.log-table-container::-webkit-scrollbar {
    height: 12px;
    width: 12px;
}

.log-table-container::-webkit-scrollbar-track {
    background: var(--bg-light);
    border-radius: 6px;
}

.log-table-container::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
    border-radius: 6px;
    border: 2px solid var(--bg-light);
}

.log-table-container::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--color-primary-hover), var(--color-primary));
}

/* ============================================
   BADGES DE ACCIONES
   ============================================
   Etiquetas de colores que indican el tipo de acción realizada.
   Se muestran en la columna "Acción Realizada" de la tabla de logs.
*/
.accion-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;  /* Texto en mayúsculas */
    letter-spacing: 0.5px;      /* Espaciado entre letras */
}

/* Colores específicos para diferentes tipos de acciones */
.accion-crear {
    background-color: #d4edda;  /* Verde claro */
    color: #155724;              /* Verde oscuro */
}

.accion-modificar {
    background-color: #fff3cd;  /* Amarillo claro */
    color: #856404;              /* Amarillo oscuro */
}

.accion-eliminar {
    background-color: #f8d7da;  /* Rojo claro */
    color: #721c24;              /* Rojo oscuro */
}

.accion-carga {
    background-color: #d1ecf1;  /* Azul claro */
    color: #0c5460;              /* Azul oscuro */
}

/* ============================================
   BADGES DE TIPO DE ELEMENTO AFECTADO
   ============================================
   Etiquetas que indican qué tipo de documento fue afectado por la acción.
   Se muestran en la columna "Elemento Afectado" de la tabla de logs.
*/
.tipo-afectado {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
}

.tipo-usuario {
    background-color: #e3f2fd;  /* Azul claro */
    color: #1565c0;              /* Azul oscuro */
}

.tipo-calificacion {
    background-color: #f3e5f5;  /* Púrpura claro */
    color: #7b1fa2;              /* Púrpura oscuro */
}

.tipo-carga-masiva {
    background-color: #fff3e0;  /* Naranja claro */
    color: #e65100;              /* Naranja oscuro */
}

/* ===== TEMA OSCURO PARA LOGS ===== */
body.dark-theme .log-table-container {
    background-color: var(--bg-primary);
    border-color: var(--border);
}

body.dark-theme .log-table td {
    color: var(--text-primary);
    border-color: var(--border);
}

body.dark-theme .log-table tbody tr:nth-child(even) {
    background-color: var(--bg-secondary);
}

body.dark-theme .log-table tbody tr:hover {
    background-color: var(--color-primary-light);
}

body.dark-theme .accion-crear {
    background-color: #1e4620;
    color: #81c784;
}

body.dark-theme .accion-modificar {
    background-color: #5d4e1f;
    color: #ffd54f;
}

body.dark-theme .accion-eliminar {
    background-color: #4a1e1e;
    color: #ef5350;
}

body.dark-theme .accion-carga {
    background-color: #1a3a3f;
    color: #4dd0e1;
}

body.dark-theme .tipo-usuario {
    background-color: #1a237e;
    color: #90caf9;
}

body.dark-theme .tipo-calificacion {
    background-color: #4a148c;
    color: #ce93d8;
}

body.dark-theme .tipo-carga-masiva {
    background-color: #5d4037;
    color: #ffb74d;
}

/* ============================================
   ESTILOS PARA BOTONES EN HEADER DE LOGS
   ============================================
   Asegurar que los botones del header tengan texto visible
*/
.header .btn,
.header .btn-secondary {
    color: var(--text-on-primary) !important;
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
    text-decoration: none;
    display: inline-block;
}

.header .btn-secondary {
    background-color: var(--color-primary-dark) !important;
    border-color: var(--color-primary-dark) !important;
}

.header .btn:hover,
.header .btn-secondary:hover {
    background-color: var(--color-primary-hover) !important;
    border-color: var(--color-primary-hover) !important;
    color: var(--text-on-primary) !important;
}

/* Tema oscuro para botones del header */
body.dark-theme .header .btn,
body.dark-theme .header .btn-secondary,
html.dark-theme .header .btn,
html.dark-theme .header .btn-secondary {
    color: var(--text-on-primary) !important;
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
}

body.dark-theme .header .btn-secondary,
html.dark-theme .header .btn-secondary {
    background-color: var(--color-primary-dark) !important;
    border-color: var(--color-primary-dark) !important;
}

/* ============================================
   ESTILOS PARA FILTRO DE LOGS
   ============================================
*/
.log-filter-container {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

.log-filter-container select {
    transition: all 0.3s ease;
}

.log-filter-container select:hover {
    border-color: var(--color-primary);
}

.log-filter-container select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.1);
}

/* Tema oscuro para el filtro */
body.dark-theme .log-filter-container,
html.dark-theme .log-filter-container {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border) !important;
}

body.dark-theme .log-filter-container select,
html.dark-theme .log-filter-container select {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border) !important;
}

body.dark-theme .log-filter-container select:focus,
html.dark-theme .log-filter-container select:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.2) !important;
}

/* ===== TEMA OSCURO PARA MODAL DE LOGS DE CALIFICACIÓN ===== */
body.dark-theme #log-calificacion-info,
html.dark-theme #log-calificacion-info {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border) !important;
}

body.dark-theme #log-calificacion-modal-overlay .modal-content,
html.dark-theme #log-calificacion-modal-overlay .modal-content {
    background-color: var(--bg-primary) !important;
}

body.dark-theme #log-calificacion-modal-overlay .modal-body,
html.dark-theme #log-calificacion-modal-overlay .modal-body {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

body.dark-theme #log-calificacion-modal-overlay .modal-footer,
html.dark-theme #log-calificacion-modal-overlay .modal-footer {
    background: linear-gradient(to bottom, var(--bg-secondary) 0%, var(--bg-primary) 100%) !important;
    border-top-color: var(--border) !important;
}

/* Estilos para la tabla dentro del modal de logs */
body.dark-theme #log-calificacion-modal-overlay .log-table,
html.dark-theme #log-calificacion-modal-overlay .log-table {
    background-color: var(--bg-primary);
}

body.dark-theme #log-calificacion-modal-overlay .log-table th,
html.dark-theme #log-calificacion-modal-overlay .log-table th {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    color: var(--text-on-primary);
    border-color: var(--color-primary-dark);
}

body.dark-theme #log-calificacion-modal-overlay .log-table td,
html.dark-theme #log-calificacion-modal-overlay .log-table td {
    color: var(--text-primary) !important;
    border-color: var(--border) !important;
    background-color: var(--bg-primary) !important;
}

body.dark-theme #log-calificacion-modal-overlay .log-table tbody tr:nth-child(even) td,
html.dark-theme #log-calificacion-modal-overlay .log-table tbody tr:nth-child(even) td {
    background-color: var(--bg-secondary) !important;
}

body.dark-theme #log-calificacion-modal-overlay .log-table tbody tr:hover td,
html.dark-theme #log-calificacion-modal-overlay .log-table tbody tr:hover td {
    background-color: var(--color-primary-light) !important;
}

/* Estilos para el contenedor con scroll dentro del modal */
body.dark-theme #log-calificacion-modal-overlay div[style*="max-height"],
html.dark-theme #log-calificacion-modal-overlay div[style*="max-height"] {
    background-color: var(--bg-primary) !important;
}

/* Estilos para los detalles de cambios dentro del modal */
body.dark-theme #log-calificacion-modal-overlay .cambios-detalle,
html.dark-theme #log-calificacion-modal-overlay .cambios-detalle {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border) !important;
}

body.dark-theme #log-calificacion-modal-overlay .cambios-detalle h4,
html.dark-theme #log-calificacion-modal-overlay .cambios-detalle h4 {
    color: var(--text-primary) !important;
    border-bottom-color: var(--border) !important;
}

body.dark-theme #log-calificacion-modal-overlay .cambios-detalle .cambio-item,
html.dark-theme #log-calificacion-modal-overlay .cambios-detalle .cambio-item {
    color: var(--text-primary) !important;
    border-color: var(--border) !important;
}

body.dark-theme #log-calificacion-modal-overlay .cambios-detalle .valor-anterior,
html.dark-theme #log-calificacion-modal-overlay .cambios-detalle .valor-anterior,
body.dark-theme #log-calificacion-modal-overlay .cambios-detalle .valor-nuevo,
html.dark-theme #log-calificacion-modal-overlay .cambios-detalle .valor-nuevo {
    color: var(--text-primary) !important;
}